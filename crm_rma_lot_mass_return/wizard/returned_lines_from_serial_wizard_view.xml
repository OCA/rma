<?xml version="1.0" encoding="utf-8"?>
<!--
#########################################################################
#                                                                       #
#                                                                       #
#########################################################################
#                                                                       #
# Copyright (C) 2009-2011  Akretion, Emmanuel Samyn                     #
#                                                                       #
#This program is free software: you can redistribute it and/or modify   #
#it under the terms of the GNU General Public License as published by   #
#the Free Software Foundation, either version 3 of the License, or      #
#(at your option) any later version.                                    #
#                                                                       #
#This program is distributed in the hope that it will be useful,        #
#but WITHOUT ANY WARRANTY; without even the implied warranty of         #
#MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the          #
#GNU General Public License for more details.                           #
#                                                                       #
#You should have received a copy of the GNU General Public License      #
#along with this program.  If not, see <http://www.gnu.org/licenses/>.  #
#########################################################################
-->
<openerp>
    <data>
<!-- SELECT FORM VIEW -->
        <record id="view_create_return_serial_form" model="ir.ui.view">
            <field name="name">returned_lines_from_serial_wiew</field>
            <field name="model">returned_lines_from_serial.wizard</field>
            <field name="arch" type="xml">
                <form string="Select serial numbers to create">
                    <group col="3" colspan="4">
                        <separator string="Serial / Lot Number" colspan="1"/>
                        <separator string="Quantity returned" colspan="1"/>
                        <separator string="Claim short description" colspan="1"/>
                        <field name="prodlot_id_1" nolabel="1"/>
                        <field name="qty_1" nolabel="1"/>
                        <field name="claim_1" nolabel="1"/>
                        <field name="prodlot_id_2" nolabel="1"/>
                        <field name="qty_2" nolabel="1"/>
                        <field name="claim_2" nolabel="1"/>
                        <field name="prodlot_id_3" nolabel="1"/>
                        <field name="qty_3" nolabel="1"/>
                        <field name="claim_3" nolabel="1"/>
                        <field name="prodlot_id_4" nolabel="1"/>
                        <field name="qty_4" nolabel="1"/>
                        <field name="claim_4" nolabel="1"/>
                        <field name="prodlot_id_5" nolabel="1"/>
                        <field name="qty_5" nolabel="1"/>
                        <field name="claim_5" nolabel="1"/>
                    </group>
                    <group col="4" colspan="2">
                        <button special="cancel" string="Cancel" name="action_cancel" type="object" icon='gtk-cancel'/>
                        <button name="action_add_and_close" string="Save and close" icon='gtk-ok' type="object"/>
                        <button name="action_add_and_new" string="Save and new" icon='gtk-add' type="object"/>
                    </group>
                </form>
            </field>
        </record>

<!-- SELECT ACTION -->
        <record id="action_create_return_serial" model="ir.actions.act_window">
            <field name="name">action_create_return_serial</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">returned_lines_from_serial.wizard</field>
            <field name="src_model">crm.claim</field>
            <field name="view_type">form</field>
            <field name="view_mode">form</field>
            <field name="target">new</field>
        </record>


        <record id="view_enter_product" model="ir.ui.view">
            <field name="name">returned_lines_from_serial_wiew</field>
            <field name="model">returned_lines_from_serial.wizard</field>
            <field name="arch" type="xml">
                <form>
                    <div class='row'>
                        <div class="col-md-4 col-sm-4 col-lg-4">
                            <div class="panel panel-default">
                                <div class="panel-heading">
                                    <h2><field name="partner_id" readonly="1"/></h2>
                                    <group>
                                        <field name="l_storage" invisible="1"/>
                                        <field name="scaned_data" invisible="1"/>
                                        <field name="last_tracking_id" readonly="1"/>
                                        <field name="current_tracking_id" string='Current Pack' options="{'no_create': True, 'no_open': True}" on_change="onchange_get_product_packaged(current_tracking_id, picking_id)"/>
                                    </group>
                                </div>
                            </div>
                            <table class="table table-hover">
                                <tbody>
                                    <td>
                                        <field name="current_status" readonly="1" widget="barcode_text"  nolabel='1'/>
                                    </td>
                                    <td>
                                        <field name="scan_data"
                                               widget='barcode_text'
                                               on_change="onchange_load_products(scan_data, product_packaged, context)"
                                               nolabel='1'/>
                                    </td>
                                </tbody>
                            </table>
                            <ul class="list-group list-elements-flat">
                                <li class="list-group-item">
                                    <group string="Actual package's weight">
                                        <!--
                                        <h2><field name="weight"/></h2>
                                        -->
                                        <div class="oe_right">
                                            <button class="oe_inline oe_stat_button packing_cache_button"  icon="fa-pencil-square-o" help='Save the current cache, all the actual triggered barcodes will be saved termporaly' type='object'  name='preprocess_line'>
                                                <div><strong>Save in Cache</strong></div>
                                            </button>
                                        </div>
                                    </group>
                                </li>
                                <li class="list-group-item"><label for="product_packaged" readonly="1"/><span class="badge"><field name="product_packaged" readonly="1"/></span></li>
                                <li class="list-group-item"><label for="total_counted" readonly="1"/><span class="badge"><field name="total_counted" readonly="1"/></span></li>
                                <li class="list-group-item"><label for="total_products" readonly="1"/><span class="badge"><field name="total_products" readonly="1"/></span></li>
                            </ul>
                        </div>
                        <div class="list-group col-md-8 col-sm-8 col-lg-8">
                            <div class="row">
                                <div class="pull-right" name="buttons">
                                <button name="add_claim_lines"
                                    help="Validate the actual picking, it will execute all the validations and the inventory will be affected"
                                    confirm="You are close to confirm totally the actual move, it will affect your inventories, are you sure?."
                                    string="_Validate" colspan="1" type="object" class="oe_highlight"/>
                                </div>
                                <div class="pull-left" name="buttons">
                                    <h1 class="oe_inline">
                                        <!--
                                    <field name="pack_search"
                                           class='pack_search'
                                           placeholder="i.e: ID00001 (hint: Trigger the barcode in the box)"
                                           default_focus='1'
                                           widget='change_focus'
                                           on_change="onchange_set_package(pack_search, current_tracking_id, picking_id, context)"/>
                                           -->
                                    </h1>
                                        <!--
                                    <button class="oe_inline oe_stat_button" name="cancel_package" icon="fa-arrow-circle-left" help="Cancel all what you are doing and delete last changes" confirm="You will loss your last not saved changes, are you agreed?" type="object">
                                        <div><strong>Back to List</strong></div>
                                    </button>
                                    -->
                                </div>
                            </div>
                            <div class="row">
                                        <!--
                            <field name="operation_ids" colspan="6"  nolabel="1" mode="tree" options="{'no_create_edit': True}">
                                <tree editable="top" string="Product Moves">
                                    <field name="package_id" invisible="1" readonly="1" options="{'create': False, 'create_edit': False}" groups="stock.group_tracking_lot"/>
                                    <field name="product_id" readonly="1"/>
                                    <field name="product_uom_id" readonly="1" groups="product.group_uom"/>
                                    <field name="lot_id" readonly="1" domain="[('product_id','=', product_id)]" context="{'product_id': product_id}" groups="stock.group_production_lot"/>
                                    <field name="picking_id" invisible="1"/>
                                    <field name="owner_id" readonly="1" invisible="1" groups="stock.group_tracking_owner"/>
                                    <field name="product_qty" readonly="1" attrs="{'required': [('product_id', '!=', False)]}"/>
                                    <field name="location_id" readonly="1"/>
                                    <field name="location_dest_id" readonly="1"/>
                                    <field name="result_package_id"
                                           options="{'create': False, 'create_edit': False}"
                                           on_change="onchange_remove_pack(result_package_id, context)"
                                           groups="stock.group_tracking_lot"
                                           context="{'location_id': location_dest_id}"/>
                                </tree>
                            </field>
                            -->
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class='col-md-8 col-sm-8 col-lg-6'>
                            <div class="row">
                            </div>
                        </div>
                    </div>
                    <footer>
                        <p class="oe_help">
                            You should use this windows on this way.
                            <ol>
                                <li>Write the Serial/Lot Number to search the product</li>
                                <li></li>
                                <li></li>
                                <li></li>
                                <li></li>
                            </ol>
                            <strong><a href="https://youtube.com/vauxoomedia">A video with this working on the here</a></strong>
                        </p>
                    </footer>
                </form>
            </field>
        </record>










    </data>
</openerp>
